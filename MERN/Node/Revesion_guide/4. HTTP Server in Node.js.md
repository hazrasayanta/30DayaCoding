# **ğŸ“Œ HTTP Server in Node.js (Interview Guide)**

## **1ï¸âƒ£ What is an HTTP Server in Node.js?**

Node.js has a built-in `http` module that allows us to create a web server without needing external dependencies. It is  **event-driven, asynchronous, and non-blocking** , making it  **efficient for handling multiple requests** .

ğŸ‘‰ **Key Features of a Node.js HTTP Server:**

âœ… Handles incoming requests and sends responses

âœ… Supports **GET, POST, PUT, DELETE** methods

âœ… Uses **Event-driven architecture**

âœ… Can serve **HTML pages, JSON data, and static files**

---

## **2ï¸âƒ£ Creating a Basic HTTP Server**

### **ğŸ”¹ Step 1: Import the `http` Module**

```js
const http = require('http');
```

### **ğŸ”¹ Step 2: Create an HTTP Server**

```js
const server = http.createServer((req, res) => {
    res.writeHead(200, { 'Content-Type': 'text/plain' });
    res.end('Hello, Node.js Server!');
});
```

### **ğŸ”¹ Step 3: Start the Server**

```js
const PORT = 3000;
server.listen(PORT, () => {
    console.log(`Server running at http://localhost:${PORT}/`);
});
```

---

## **3ï¸âƒ£ Handling Requests & Responses**

ğŸ‘‰ Every incoming request has two main objects:

* `req` â†’ Request Object (Client request details)
* `res` â†’ Response Object (Serverâ€™s response)

### **ğŸ”¹ Example: Handling Different Routes**

```js
const http = require('http');

const server = http.createServer((req, res) => {
    if (req.url === '/') {
        res.writeHead(200, { 'Content-Type': 'text/plain' });
        res.end('Welcome to Home Page!');
    } else if (req.url === '/about') {
        res.writeHead(200, { 'Content-Type': 'text/plain' });
        res.end('About Page');
    } else {
        res.writeHead(404, { 'Content-Type': 'text/plain' });
        res.end('404 - Not Found');
    }
});

server.listen(3000, () => console.log('Server running on port 3000'));
```

ğŸ”¹ **Explanation:**

âœ” `req.url` â†’ Checks the request URL

âœ” `res.writeHead(statusCode, headers)` â†’ Sends HTTP status & headers

âœ” `res.end(data)` â†’ Sends response body

---

## **4ï¸âƒ£ Handling JSON Responses**

ğŸ’¡ **Use `JSON.stringify()` to send JSON data.**

```js
const http = require('http');

const server = http.createServer((req, res) => {
    res.writeHead(200, { 'Content-Type': 'application/json' });
    res.end(JSON.stringify({ message: 'Hello, JSON!' }));
});

server.listen(3000, () => console.log('Server running on port 3000'));
```

---

## **5ï¸âƒ£ Handling POST Requests (Receiving Data)**

ğŸš€ **To handle incoming data, use the `data` and `end` events.**

```js
const http = require('http');

const server = http.createServer((req, res) => {
    if (req.method === 'POST' && req.url === '/data') {
        let body = '';

        req.on('data', chunk => {
            body += chunk.toString(); // Convert Buffer to string
        });

        req.on('end', () => {
            res.writeHead(200, { 'Content-Type': 'application/json' });
            res.end(JSON.stringify({ received: body }));
        });
    } else {
        res.writeHead(404, { 'Content-Type': 'text/plain' });
        res.end('404 - Not Found');
    }
});

server.listen(3000, () => console.log('Server running on port 3000'));
```

âœ” **Explanation:**

1ï¸âƒ£ `req.on('data')` â†’ Receives chunks of data

2ï¸âƒ£ `req.on('end')` â†’ Called when all data is received

3ï¸âƒ£ `res.end(JSON.stringify(...))` â†’ Sends JSON response

---

## **6ï¸âƒ£ Serving HTML Files Using `fs` Module**

ğŸ’¡ **Use `fs.readFile()` to serve HTML files.**

```js
const http = require('http');
const fs = require('fs');

const server = http.createServer((req, res) => {
    if (req.url === '/') {
        fs.readFile('index.html', (err, data) => {
            if (err) {
                res.writeHead(500, { 'Content-Type': 'text/plain' });
                res.end('Internal Server Error');
            } else {
                res.writeHead(200, { 'Content-Type': 'text/html' });
                res.end(data);
            }
        });
    } else {
        res.writeHead(404, { 'Content-Type': 'text/plain' });
        res.end('404 - Not Found');
    }
});

server.listen(3000, () => console.log('Server running on port 3000'));
```

âœ” **Explanation:**

ğŸ”¹ `fs.readFile()` reads `index.html` and sends it as a response

ğŸ”¹ `Content-Type: text/html` ensures the browser renders HTML

---

## **7ï¸âƒ£ Using Express.js for HTTP Server**

ğŸ’¡ **Express.js makes routing and request handling easier.**

```js
const express = require('express');
const app = express();

app.get('/', (req, res) => {
    res.send('Hello, Express.js!');
});

app.listen(3000, () => console.log('Express server running on port 3000'));
```

---

## **8ï¸âƒ£ HTTP Server Architecture in Node.js**

**ğŸ“Œ Key Flow of an HTTP Server:**

1ï¸âƒ£ **Client Sends Request** â†’ (Browser/Postman/Curl)

2ï¸âƒ£ **Node.js Server Receives Request** (`req` object)

3ï¸âƒ£ **Processes the Request** (Routing, Database, Logic)

4ï¸âƒ£ **Sends Back Response** (`res` object)

ğŸ”¹ **Diagram of Node.js HTTP Server Flow:**

```
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Client       â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Node.js Serverâ”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚  http.createServer â”‚
 â”‚  Request Handler  â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Response     â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **9ï¸âƒ£ Interview Questions on HTTP Server**

ğŸ”¸ **How do you create an HTTP server in Node.js?**

ğŸ”¸ **How does Node.js handle incoming requests?**

ğŸ”¸ **What is the role of the `http` module in Node.js?**

ğŸ”¸ **How do you handle different routes in an HTTP server?**

ğŸ”¸ **How do you serve HTML files using Node.js?**

ğŸ”¸ **What is the difference between Node.js HTTP server and Express.js?**

---

## **ğŸ”Ÿ Quick Revision Summary**

âœ” **Creating an HTTP Server** â€“ `http.createServer()`

âœ” **Handling Routes** â€“ `req.url` to define endpoints

âœ” **Sending JSON Responses** â€“ `Content-Type: application/json`

âœ” **Handling POST Requests** â€“ `req.on('data')`, `req.on('end')`

âœ” **Serving HTML Files** â€“ `fs.readFile()`

âœ” **Using Express.js** â€“ Simplifies HTTP request handling
