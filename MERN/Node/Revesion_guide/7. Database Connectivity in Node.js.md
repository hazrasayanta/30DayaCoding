# **ğŸ“Œ Database Connectivity in Node.js (Interview Guide)**

## **1ï¸âƒ£ Introduction**

Node.js supports multiple databases, including **SQL (MySQL, PostgreSQL, MSSQL)** and  **NoSQL (MongoDB, Redis, Firebase)** . Database connectivity in Node.js is achieved using ORM (Object-Relational Mapping) libraries or raw query methods.

ğŸ‘‰ **Popular Databases with Node.js:**

âœ… **MongoDB** â€“ NoSQL, JSON-based, scalable

âœ… **MySQL** â€“ Relational, structured, transactional

âœ… **PostgreSQL** â€“ Relational, open-source, supports JSON

âœ… **Redis** â€“ Key-value store for caching

âœ… **Firebase** â€“ Realtime NoSQL database

---

# **2ï¸âƒ£ Connecting Node.js with MongoDB (NoSQL)**

**MongoDB** stores data in **JSON-like BSON format** and is popular for modern applications.

### **ğŸ”¹ Install MongoDB & Mongoose**

```sh
npm install mongoose
```

### **ğŸ”¹ Connecting to MongoDB**

```js
const mongoose = require('mongoose');

mongoose.connect('mongodb://localhost:27017/mydb', {
    useNewUrlParser: true,
    useUnifiedTopology: true
}).then(() => console.log('MongoDB Connected'))
  .catch(err => console.error('MongoDB Connection Failed:', err));
```

ğŸ“Œ **Whatâ€™s Happening?**

âœ” `mongoose.connect()` â†’ Connects to MongoDB

âœ” `useNewUrlParser: true` â†’ Parses MongoDB connection string

âœ” `useUnifiedTopology: true` â†’ Handles new MongoDB connection management

---

# **3ï¸âƒ£ CRUD Operations in MongoDB with Mongoose**

### **ğŸ”¹ Defining a Schema & Model**

```js
const userSchema = new mongoose.Schema({
    name: String,
    email: String,
    age: Number
});
const User = mongoose.model('User', userSchema);
```

### **ğŸ”¹ Create (INSERT) Data**

```js
const createUser = async () => {
    const newUser = new User({ name: "Alice", email: "alice@example.com", age: 25 });
    await newUser.save();
    console.log('User Created:', newUser);
};
createUser();
```

### **ğŸ”¹ Read (SELECT) Data**

```js
const getUsers = async () => {
    const users = await User.find();
    console.log('Users:', users);
};
getUsers();
```

### **ğŸ”¹ Update Data**

```js
const updateUser = async (id) => {
    await User.findByIdAndUpdate(id, { age: 30 });
    console.log('User Updated');
};
updateUser('USER_ID_HERE');
```

### **ğŸ”¹ Delete Data**

```js
const deleteUser = async (id) => {
    await User.findByIdAndDelete(id);
    console.log('User Deleted');
};
deleteUser('USER_ID_HERE');
```

---

# **4ï¸âƒ£ Connecting Node.js with MySQL (SQL Database)**

**MySQL** is a **relational database** that supports structured queries using SQL syntax.

### **ğŸ”¹ Install MySQL Package**

```sh
npm install mysql2
```

### **ğŸ”¹ Create MySQL Connection**

```js
const mysql = require('mysql2');

const db = mysql.createConnection({
    host: 'localhost',
    user: 'root',
    password: 'password',
    database: 'mydb'
});

db.connect(err => {
    if (err) throw err;
    console.log('MySQL Connected!');
});
```

---

# **5ï¸âƒ£ CRUD Operations in MySQL**

### **ğŸ”¹ Create (INSERT) Data**

```js
const insertUser = "INSERT INTO users (name, email, age) VALUES ('Alice', 'alice@example.com', 25)";
db.query(insertUser, (err, result) => {
    if (err) throw err;
    console.log('User Inserted');
});
```

### **ğŸ”¹ Read (SELECT) Data**

```js
db.query("SELECT * FROM users", (err, result) => {
    if (err) throw err;
    console.log(result);
});
```

### **ğŸ”¹ Update Data**

```js
const updateUser = "UPDATE users SET age = 30 WHERE name = 'Alice'";
db.query(updateUser, (err, result) => {
    if (err) throw err;
    console.log('User Updated');
});
```

### **ğŸ”¹ Delete Data**

```js
const deleteUser = "DELETE FROM users WHERE name = 'Alice'";
db.query(deleteUser, (err, result) => {
    if (err) throw err;
    console.log('User Deleted');
});
```

---

# **6ï¸âƒ£ Using Sequelize ORM with MySQL**

Sequelize is an **ORM (Object-Relational Mapper)** for handling MySQL/PostgreSQL operations in Node.js.

### **ğŸ”¹ Install Sequelize**

```sh
npm install sequelize mysql2
```

### **ğŸ”¹ Initialize Sequelize Connection**

```js
const { Sequelize } = require('sequelize');

const sequelize = new Sequelize('mydb', 'root', 'password', {
    host: 'localhost',
    dialect: 'mysql'
});

sequelize.authenticate()
    .then(() => console.log('Sequelize connected to MySQL'))
    .catch(err => console.error('Sequelize connection error:', err));
```

### **ğŸ”¹ Define Sequelize Model**

```js
const User = sequelize.define('User', {
    name: { type: Sequelize.STRING },
    email: { type: Sequelize.STRING },
    age: { type: Sequelize.INTEGER }
});
```

### **ğŸ”¹ Perform CRUD Operations in Sequelize**

```js
// Create User
User.create({ name: 'Alice', email: 'alice@example.com', age: 25 });

// Find All Users
User.findAll().then(users => console.log(users));

// Update User
User.update({ age: 30 }, { where: { name: 'Alice' } });

// Delete User
User.destroy({ where: { name: 'Alice' } });
```

---

# **7ï¸âƒ£ Choosing the Right Database for Node.js**

| Feature                  | MongoDB (NoSQL)          | MySQL (SQL)               |
| ------------------------ | ------------------------ | ------------------------- |
| **Data Structure** | JSON/BSON                | Tables & Rows             |
| **Scalability**    | High                     | Moderate                  |
| **Joins Support**  | No                       | Yes                       |
| **Speed**          | Fast for large datasets  | Slower for large joins    |
| **Use Cases**      | Real-time apps, Big Data | Transactions, ERP systems |

---

# **8ï¸âƒ£ Database Interview Questions**

ğŸ”¹ **How do you connect MongoDB with Node.js?**

ğŸ”¹ **What is the difference between SQL and NoSQL?**

ğŸ”¹ **How does Mongoose simplify MongoDB operations?**

ğŸ”¹ **What is Sequelize in Node.js?**

ğŸ”¹ **What are the advantages of using an ORM?**

ğŸ”¹ **How do you handle database transactions in Node.js?**

---

# **9ï¸âƒ£ Quick Revision Summary**

âœ” **MongoDB** â€“ NoSQL, fast, flexible schema

âœ” **MySQL** â€“ SQL-based, structured, supports transactions

âœ” **Mongoose ORM** â€“ Simplifies MongoDB operations

âœ” **Sequelize ORM** â€“ Handles MySQL/PostgreSQL with Node.js

âœ” **CRUD Operations** â€“ Create, Read, Update, Delete in both SQL & NoSQL

âœ” **Connection Management** â€“ Use connection pools for efficiency
