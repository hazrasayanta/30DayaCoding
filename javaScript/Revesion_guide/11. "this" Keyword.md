
# **JavaScript "this" Keyword â€“ Interview Guide**

## **1ï¸âƒ£ What is "this" in JavaScript?**

The **"this"** keyword in JavaScript refers to the object that is executing the current function. Its value depends on  **how the function is called** .

---

## **2ï¸âƒ£ Rules for Determining "this"**

| Scenario                                              | "this" Refers To                           |
| ----------------------------------------------------- | ------------------------------------------ |
| **Global Scope (Non-Strict Mode)**              | `window`(browser) /`global`(Node.js)   |
| **Global Scope (Strict Mode)**                  | `undefined`                              |
| **Inside an Object Method**                     | The object calling the method              |
| **Inside a Function (Non-Strict Mode)**         | `window`(browser) /`global`(Node.js)   |
| **Inside a Function (Strict Mode)**             | `undefined`                              |
| **Arrow Function**                              | Inherits "this" from its surrounding scope |
| **Inside a Class Constructor**                  | The new object being created               |
| **Event Listeners**                             | The DOM element that triggered the event   |
| **Using `call()`,`apply()`, or `bind()`** | Explicitly set "this"                      |

---

## **3ï¸âƒ£ Examples of "this" in Different Scenarios**

### **ğŸ”¹ Global Scope**

```javascript
console.log(this); // In browser: window, In Node.js: global
```

### **ğŸ”¹ Inside an Object Method**

```javascript
const obj = {
  name: "Sayanta",
  greet: function () {
    console.log(this.name); // "Sayanta"
  }
};
obj.greet();
```

ğŸ“Œ `"this"` refers to `obj` because the method is called on `obj`.

---

### **ğŸ”¹ Inside a Regular Function (Non-Strict Mode)**

```javascript
function showThis() {
  console.log(this); // window (browser) / global (Node.js)
}
showThis();
```

ğŸ“Œ `"this"` refers to `window` (or `global` in Node.js).

---

### **ğŸ”¹ Inside a Regular Function (Strict Mode)**

```javascript
"use strict";
function showThis() {
  console.log(this); // undefined
}
showThis();
```

ğŸ“Œ `"this"` is `undefined` in strict mode.

---

### **ğŸ”¹ Arrow Function (Lexical "this")**

```javascript
const obj = {
  name: "Sayanta",
  greet: () => {
    console.log(this.name); // undefined
  }
};
obj.greet();
```

ğŸ“Œ Arrow functions  **do not have their own "this"** ; they inherit from their surrounding scope.

```javascript
const obj = {
  name: "Sayanta",
  greet: function() {
    const inner = () => console.log(this.name); 
    inner();
  }
};
obj.greet(); // "Sayanta"
```

ğŸ“Œ Here, the arrow function inherits `"this"` from `greet()`, so `"this"` is `obj`.

---

### **ğŸ”¹ Class Constructor ("this" in OOP)**

```javascript
class Person {
  constructor(name) {
    this.name = name;
  }
  greet() {
    console.log(`Hello, ${this.name}`);
  }
}
const user = new Person("Sayanta");
user.greet(); // "Hello, Sayanta"
```

ğŸ“Œ `"this"` refers to the newly created object (`user`).

---

### **ğŸ”¹ "this" in Event Listeners**

```javascript
document.getElementById("btn").addEventListener("click", function() {
  console.log(this); // Refers to the button element
});
```

ğŸ“Œ `"this"` refers to the HTML element that triggered the event.

---

### **ğŸ”¹ Changing "this" using `call()`, `apply()`, and `bind()`**

#### **Using `call()`**

```javascript
const person = { name: "Sayanta" };

function greet() {
  console.log(this.name);
}

greet.call(person); // "Sayanta"
```

#### **Using `apply()`**

```javascript
greet.apply(person); // "Sayanta"
```

#### **Using `bind()`**

```javascript
const boundGreet = greet.bind(person);
boundGreet(); // "Sayanta"
```

ğŸ“Œ `call()` and `apply()`  **immediately invoke the function** , while `bind()` **returns a new function** with `"this"` permanently set.

---

## **4ï¸âƒ£ Common Interview Questions on "this"**

âœ… **Q1:** What is "this" in JavaScript?

âœ… **Q2:** How does "this" behave inside a function vs. inside an object method?

âœ… **Q3:** Why does "this" behave differently in arrow functions?

âœ… **Q4:** How does "this" change in event listeners?

âœ… **Q5:** What is the difference between `call()`, `apply()`, and `bind()`?

âœ… **Q6:** How can you fix the "this" issue inside a callback function?

---

## **5ï¸âƒ£ Summary**

âœ” `"this"` depends on  **how a function is called** .

âœ” In  **arrow functions** , `"this"` is **lexically bound** (inherits from the surrounding scope).

âœ” In  **event listeners** , `"this"` refers to the  **element that triggered the event** .

âœ” `call()`, `apply()`, and `bind()`  **manipulate "this" explicitly** .

âœ” In  **strict mode** , `"this"` in a function defaults to `undefined` instead of `window/global`.




### **âœ… Q1: What is `"this"` in JavaScript?**

### **1ï¸âƒ£ Global Scope (Non-Strict Mode)**

âœ”  **Value of `this`** : Refers to the `window` object in the browser and `global` in Node.js.

ğŸ”¹ **Example:**

```js
console.log(this); // âœ… window (browser) / global (Node.js)
```

---

### **2ï¸âƒ£ Global Scope (Strict Mode)**

âœ”  **Value of `this`** : `undefined`, because strict mode prevents automatic global binding.

ğŸ”¹ **Example:**

```js
"use strict";
console.log(this); // âœ… undefined
```

---

### **3ï¸âƒ£ Inside an Object Method**

âœ”  **Value of `this`** : Refers to the object that owns the method.

ğŸ”¹ **Example:**

```js
const obj = {
  name: "Sayanta",
  greet: function () {
    console.log(this.name);
  }
};
obj.greet(); // âœ… "Sayanta"
```

---

### **4ï¸âƒ£ Inside a Regular Function (Non-Strict Mode)**

âœ”  **Value of `this`** : Refers to `window` (browser) / `global` (Node.js).

ğŸ”¹ **Example:**

```js
function showThis() {
  console.log(this);
}
showThis(); // âœ… window (browser) / global (Node.js)
```

---

### **5ï¸âƒ£ Inside a Regular Function (Strict Mode)**

âœ”  **Value of `this`** : `undefined`, because strict mode disables global object binding.

ğŸ”¹ **Example:**

```js
"use strict";
function showThis() {
  console.log(this);
}
showThis(); // âœ… undefined
```

---

### **6ï¸âƒ£ Inside an Arrow Function (Lexical `this`)**

âœ”  **Value of `this`** : Inherits `this` from the surrounding scope (does not have its own `this`).

ğŸ”¹ **Example:**

```js
const obj = {
  name: "Sayanta",
  greet: () => {
    console.log(this.name);
  }
};
obj.greet(); // âŒ undefined (inherits from global scope)
```

---

### **7ï¸âƒ£ Using `call()`, `apply()`, and `bind()` to Set `this` Explicitly**

âœ”  **Value of `this`** : Explicitly set to the specified object.

ğŸ”¹ **Example:**

```js
const person = { name: "Sayanta" };

function greet() {
  console.log(this.name);
}

greet.call(person); // âœ… "Sayanta"
```

---

### **8ï¸âƒ£ Inside a Class Constructor**

âœ”  **Value of `this`** : Refers to the instance of the class.

ğŸ”¹ **Example:**

```js
class Person {
  constructor(name) {
    this.name = name;
  }
  greet() {
    console.log(this.name);
  }
}

const p1 = new Person("Sayanta");
p1.greet(); // âœ… "Sayanta"
```

---

### **9ï¸âƒ£ Inside an Event Listener**

âœ”  **Value of `this`** : Refers to the element that triggered the event.

ğŸ”¹ **Example:**

```js
document.getElementById("btn").addEventListener("click", function () {
  console.log(this); // âœ… Refers to the clicked button element
});
```

---

### **ğŸ”¹ Key Differences Table**

| Context                           | `this`Refers To                        |
| --------------------------------- | ---------------------------------------- |
| Global Scope (Non-Strict Mode)    | `window`(browser) /`global`(Node.js) |
| Global Scope (Strict Mode)        | `undefined`                            |
| Object Method                     | The object itself                        |
| Regular Function (Non-Strict)     | `window`/`global`                    |
| Regular Function (Strict)         | `undefined`                            |
| Arrow Function                    | Inherited from parent scope              |
| `call()`,`apply()`,`bind()` | Manually set `this`                    |
| Class Constructor                 | The new instance                         |
| Event Listener                    | The DOM element                          |

---

### **ğŸ”¹ When to Use What?**

âœ… Use **regular functions** when `this` should refer to the calling object.

âœ… Use **arrow functions** when you need `this` to inherit from the surrounding scope.

âœ… Use **`.call()`, `.apply()`, `.bind()`** when you need explicit control over `this`.

---

### **ğŸš€ Interview Tip:**

Always mention **scope, function type (regular/arrow), strict mode, and event listeners** while answering `"this"` questions!



### **âœ… Q2: How does `"this"` behave inside a function vs. inside an object method?**

### **1ï¸âƒ£ `"this"` Inside a Regular Function**

âœ” **Non-Strict Mode:** `this` refers to the **global object** (`window` in browsers, `global` in Node.js).

âœ”  **Strict Mode (`"use strict"`)** : `this` becomes  **`undefined`** .

ğŸ”¹ **Example (Non-Strict Mode):**

```js
function showThis() {
  console.log(this);
}
showThis(); // âœ… window (browser) / global (Node.js)
```

ğŸ”¹ **Example (Strict Mode):**

```js
"use strict";
function showThis() {
  console.log(this);
}
showThis(); // âœ… undefined
```

---

### **2ï¸âƒ£ `"this"` Inside an Object Method**

âœ” When a function is called as an  **object method** , `this` refers to the  **object itself** .

ğŸ”¹ **Example:**

```js
const obj = {
  name: "Sayanta",
  greet: function () {
    console.log(this.name);
  }
};
obj.greet(); // âœ… "Sayanta"
```

âœ” If you  **assign the method to a variable** , `this` loses its binding and falls back to the global object.

ğŸ”¹ **Example:**

```js
const sayHello = obj.greet;
sayHello(); // âŒ undefined (or window.name if defined)
```

---

### **3ï¸âƒ£ `"this"` Inside an Arrow Function**

âœ” Arrow functions  **do not have their own `this`** , they inherit `this` from the  **enclosing scope** .

ğŸ”¹ **Example (Inside an Object):**

```js
const obj = {
  name: "Sayanta",
  greet: () => {
    console.log(this.name);
  }
};
obj.greet(); // âŒ undefined (inherits `this` from global scope)
```

âœ” **Fix:** Use a regular function instead of an arrow function.

ğŸ”¹ **Corrected Example:**

```js
const obj = {
  name: "Sayanta",
  greet: function () {
    console.log(this.name);
  }
};
obj.greet(); // âœ… "Sayanta"
```

---

### **ğŸ”¹ Key Differences Table**

| Context                       | `this`Refers To                        |
| ----------------------------- | ---------------------------------------- |
| Regular Function (Non-Strict) | `window`(browser) /`global`(Node.js) |
| Regular Function (Strict)     | `undefined`                            |
| Object Method                 | The calling object                       |
| Arrow Function                | Inherited from the enclosing scope       |

---

### **ğŸ”¹ When to Use What?**

âœ… Use **regular functions** inside objects to maintain the correct `this` binding.

âœ… Use **arrow functions** when you need `this` to inherit from the surrounding scope.

---

### **ğŸš€ Interview Tip:**

Always mention **global vs. object context, strict mode, and arrow functions** when discussing `"this"` in functions vs. object methods!



### **âœ… Q4: How does `"this"` change in event listeners?**

### **1ï¸âƒ£ Default Behavior of `"this"` in Event Listeners**

âœ” When an event listener is attached to an element, `"this"` refers to the element that fired the event.

ğŸ”¹ **Example (Regular Function in Event Listener):**

```js
document.querySelector("button").addEventListener("click", function () {
  console.log(this); // âœ… Refers to the clicked button element
});
```

ğŸ’¡ In a  **regular function** , `this` refers to the  **element that triggered the event** .

---

### **2ï¸âƒ£ `"this"` in Arrow Functions inside Event Listeners**

âœ” Arrow functions  **do not have their own `this`** , so they inherit it from their parent scope.

ğŸ”¹ **Example (Arrow Function in Event Listener):**

```js
document.querySelector("button").addEventListener("click", () => {
  console.log(this); // âŒ Refers to `window`, NOT the button
});
```

ğŸ’¡ Here, `this`  **does NOT refer to the button** , because arrow functions inherit `this` from the surrounding **lexical scope** (in this case, `window` or `global`).

---

### **3ï¸âƒ£ Fixing `"this"` in Arrow Functions**

âœ” If you need `this` to refer to the event target inside an arrow function, use the `event.target` property instead.

ğŸ”¹ **Example (Using `event.target` in Arrow Function):**

```js
document.querySelector("button").addEventListener("click", (event) => {
  console.log(event.target); // âœ… Refers to the clicked button
});
```

---

### **4ï¸âƒ£ `"this"` in Event Listeners on Objects**

âœ” If an event listener is inside an object method, `this`  **still refers to the element that triggered the event, NOT the object** .

ğŸ”¹ **Example (Losing `this` inside an Object Method):**

```js
const obj = {
  name: "Sayanta",
  handleClick: function () {
    document.querySelector("button").addEventListener("click", function () {
      console.log(this.name);
    });
  }
};
obj.handleClick(); // âŒ `this.name` is `undefined` (refers to button, NOT `obj`)
```

ğŸ’¡ The  **regular function inside `addEventListener` refers to the button** , so `this.name` is  **undefined** .

âœ” **Fix: Use an Arrow Function (Inherit `this` from `obj`)**

```js
const obj = {
  name: "Sayanta",
  handleClick: function () {
    document.querySelector("button").addEventListener("click", () => {
      console.log(this.name); // âœ… "Sayanta"
    });
  }
};
obj.handleClick();
```

ğŸ’¡ The arrow function  **inherits `this` from `handleClick`** , so `this.name` correctly refers to `"Sayanta"`.

---

### **5ï¸âƒ£ `"this"` with `addEventListener` and `bind()`**

âœ” You can use `.bind()` to explicitly set `this` inside an event listener.

ğŸ”¹ **Example (Using `.bind(this)` to Fix `this` Inside an Object Method)**

```js
const obj = {
  name: "Sayanta",
  handleClick: function () {
    document.querySelector("button").addEventListener("click", function () {
      console.log(this.name); // âŒ undefined
    }.bind(this)); // âœ… Fix by binding `this` to `obj`
  }
};
obj.handleClick(); // âœ… "Sayanta"
```

ğŸ’¡ `.bind(this)`  **forces `this` to refer to `obj` instead of the button** .

---

### **6ï¸âƒ£ `"this"` in Event Listeners with `setTimeout`**

âœ” Regular functions inside `setTimeout` default to `window`, but arrow functions inherit `this`.

ğŸ”¹ **Example (Regular Function in `setTimeout`):**

```js
document.querySelector("button").addEventListener("click", function () {
  setTimeout(function () {
    console.log(this); // âŒ Refers to `window`
  }, 1000);
});
```

âœ” **Fix: Use an Arrow Function to Keep `this` Reference**

```js
document.querySelector("button").addEventListener("click", function () {
  setTimeout(() => {
    console.log(this); // âœ… Refers to the button
  }, 1000);
});
```

ğŸ’¡ The  **arrow function inherits `this` from the event listener function** , so it correctly refers to the button.

---

### **ğŸ”¹ Key Differences Table**

| Event Listener Scenario             | Regular Function (`function`)      | Arrow Function (`=>`)          |
| ----------------------------------- | ------------------------------------ | -------------------------------- |
| `this`inside `addEventListener` | âœ… Refers to the element             | âŒ Refers to global (`window`) |
| `this`inside an object method     | âŒ Loses `this`(refers to element) | âœ… Inherits `this`from object  |
| `this`inside `setTimeout`       | âŒ Refers to `window`              | âœ… Inherits `this`correctly    |
| Fixing `this`inside objects       | âœ… Use `.bind(this)`               | âœ… Use arrow function            |

---

### **7ï¸âƒ£ Best Practices for Handling `"this"` in Event Listeners**

âœ… **Use regular functions** when you need `this` to refer to the event target (e.g., the button).

âœ… **Use arrow functions** inside object methods to inherit `this`.

âœ… **Use `.bind(this)`** when passing a function reference that should maintain the object context.

âœ… **Use `event.target`** instead of `this` if you are inside an arrow function.

---

### **ğŸš€ Interview Tip:**

Explain how `"this"` changes based on  **regular vs. arrow functions** , how to  **fix scope issues** , and when to  **use `.bind(this)`, arrow functions, or `event.target`** ! ğŸ’¡




### **âœ… Q5: What is the difference between `call()`, `apply()`, and `bind()`?**

### **1ï¸âƒ£ `call()` (Invoke Immediately, Pass Arguments Individually)**

âœ”  **Usage** : Calls a function immediately with a specified `this` value and arguments passed  **individually** .

ğŸ”¹ **Example:**

```js
function greet(greeting, punctuation) {
  console.log(greeting + ", " + this.name + punctuation);
}

const user = { name: "Sayanta" };

greet.call(user, "Hello", "!"); // âœ… "Hello, Sayanta!"
```

ğŸ’¡ `this` is set to `user`, and arguments (`"Hello"`, `"!"`) are passed  **one by one** .

---

### **2ï¸âƒ£ `apply()` (Invoke Immediately, Pass Arguments as an Array)**

âœ”  **Usage** : Works like `call()`, but arguments are passed as an **array** instead of individually.

ğŸ”¹ **Example:**

```js
greet.apply(user, ["Hi", "!!"]); // âœ… "Hi, Sayanta!!"
```

ğŸ’¡ **Use `apply()` when arguments come from an array.**

âœ” **Use Case: Finding Max/Min in an Array**

```js
const numbers = [1, 5, 3, 8, 2];
console.log(Math.max.apply(null, numbers)); // âœ… 8
```

ğŸ’¡ `apply()` allows passing an entire array as arguments.

---

### **3ï¸âƒ£ `bind()` (Returns a New Function, Does NOT Invoke Immediately)**

âœ”  **Usage** : Creates a **new function** with `this` set permanently but does  **not invoke it immediately** .

ğŸ”¹ **Example:**

```js
const greetSayanta = greet.bind(user, "Hey");
greetSayanta("!!!"); // âœ… "Hey, Sayanta!!!"
```

ğŸ’¡ `bind()`  **does NOT execute the function immediately** â€”it returns a new function that can be called later.

---

### **4ï¸âƒ£ Key Differences Table**

| Feature           | `call()`                       | `apply()`                      | `bind()`                               |
| ----------------- | -------------------------------- | -------------------------------- | ---------------------------------------- |
| Execution         | âœ…**Executes immediately** | âœ…**Executes immediately** | âŒ**Returns a new function**       |
| Arguments         | Passed**individually**     | Passed**as an array**      | Passed individually or partially applied |
| Modifies `this` | âœ… Yes                           | âœ… Yes                           | âœ… Yes (but function is not executed)    |

---

### **5ï¸âƒ£ When to Use What?**

âœ… **Use `call()`** when arguments are known and passed  **individually** .

âœ… **Use `apply()`** when arguments come from an  **array** .

âœ… **Use `bind()`** when you need a function with a  **pre-set `this` but want to execute it later** .

---

### **ğŸš€ Interview Tip:**

Mention that  **`call()` and `apply()` execute immediately** , while  **`bind()` returns a new function** . Also, demonstrate `apply()` with `Math.max()`.



### **âœ… Q6: How can you fix the "this" issue inside a callback function?**

When passing a callback function, `this` may become **undefined** or refer to the wrong object. Here are **four ways** to fix it:

---

### **1ï¸âƒ£ Use `.bind(this)` (Best Practice for Method Callbacks)**

âœ” **`bind()` ensures `this` refers to the correct object inside the callback.**

ğŸ”¹ **Example:**

```js
const user = {
  name: "Sayanta",
  greet: function () {
    setTimeout(
      function () {
        console.log("Hello, " + this.name);
      }.bind(this),
      1000
    );
  },
};

user.greet(); // âœ… "Hello, Sayanta" (Correct!)
```

ğŸ’¡ `.bind(this)` **explicitly binds `this` to the object.**

---

### **2ï¸âƒ£ Use an Arrow Function (Lexical `this`)**

âœ” **Arrow functions inherit `this` from their surrounding scope.**

ğŸ”¹ **Example:**

```js
const user = {
  name: "Sayanta",
  greet: function () {
    setTimeout(() => {
      console.log("Hello, " + this.name);
    }, 1000);
  },
};

user.greet(); // âœ… "Hello, Sayanta" (Correct!)
```

ğŸ’¡ **Arrow functions donâ€™t have their own `this`â€”they inherit from the enclosing function.**

---

### **3ï¸âƒ£ Store `this` in a Variable (`self` or `that`)**

âœ” **Traditional approach before ES6.**

ğŸ”¹ **Example:**

```js
const user = {
  name: "Sayanta",
  greet: function () {
    const self = this; // Store reference
    setTimeout(function () {
      console.log("Hello, " + self.name);
    }, 1000);
  },
};

user.greet(); // âœ… "Hello, Sayanta" (Correct!)
```

ğŸ’¡ **Stores `this` in `self` to keep the correct reference.**

---

### **4ï¸âƒ£ Use `.call()` or `.apply()` to Set `this`**

âœ” **Use `call()` or `apply()` to invoke the function with the correct `this`.**

ğŸ”¹ **Example:**

```js
const user = {
  name: "Sayanta",
  greet: function () {
    setTimeout(
      function () {
        console.log("Hello, " + this.name);
      }.call(this),
      1000
    );
  },
};

user.greet(); // âŒ Incorrect (Executes Immediately)
```

ğŸ’¡ **This doesn't work with `setTimeout`, but works in direct function calls.** Instead, use `bind()`.

---

### **5ï¸âƒ£ Key Differences Table**

| Solution                 | Works with Callbacks?        | Complexity    | Best Use Case      |
| ------------------------ | ---------------------------- | ------------- | ------------------ |
| `.bind(this)`          | âœ… Yes                       | â­â­ Moderate | Function Methods   |
| Arrow Function           | âœ… Yes                       | â­ Easy       | Callback Functions |
| `self = this`          | âœ… Yes                       | â­â­ Moderate | Older JS Versions  |
| `.call()`/`.apply()` | âŒ No (Executes Immediately) | â­â­ Moderate | Direct Invocation  |

---

### **ğŸš€ Interview Tip:**

The best approach is **using arrow functions** or  **`.bind(this)`** . Avoid `self = this` unless necessary.
